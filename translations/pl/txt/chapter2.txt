  Rozdział 2

  POWŁOKA INTERAKCYJNA

Tematy omówione w tym rozdziale:

• Liczby całowite i zmiennoprzecinkowe
• Wyrażenia
• Wartości
• Operatory
• Obliczanie wyrażeń
• Zapisywanie wartości w zmiennych
• Nadpisywanie zmiennych

Nim zaczniesz tworzyć gry, musisz nauczyć się kilku podstawowych rzeczy w programowaniu. W tym rozdziale nie stworzymy gry, ale nauczenie się tych podstaw jest pierwszym krokiem do ich tworzenia. Rozpoczniemy od nauki używania interaktywnej powłoki Pythona.

Trchę prostych operacji matematycznych

Uruchom IDLE jak to omówiliśmy w pierwszym rozdziale. Teraz pozwolimy Pythonowi wykonać kilka prostych operacji matematycznych. Interaktywna powłoka może działać tak, jak kalkulator. Wpisz 2 + 2 w interaktywnej powłoce i wciśnij klawisz ENTER (na niektórych klawiaturach ten klawisz ma napis RETURN). Rysunek 2-1 pokazuje jak IDLE odpowiada liczbą 4.



Rysunek 2-1: Wprowadź 2+2 w powłoce interaktywnej.

Ten problem matematyczny jest prostym programem. Znak + mówi komputerowi by dodać liczby 2 i 2. Tabela 2-1 pokazuje inne symbole matematyczne dostępne w Pythonie. Znak - będzie odejmował liczby. Znak * (gwiazdka) będzie je mnożył. Znak / będzie je dzielił.

Tabela 2-1: Różne operatory matematyczne w Pythonie.
Operator      Operacja
+             dodawanie
-             odejmowania
*             mnożenie
/             dzielenie



Kiedy ich tak używamy +, -, * i / są nazywane operatorami. Operatory mówią Pythonowi jakie operacje matematyczne Python ma wykonać na liczbach jakie sąsiadują z operatorem.

Liczby całkowite i zmiennoprzecinkowe

W programowaniu liczby całkowite, to lczby takie jak 4, 99 i 0. Liczby zmiennoprzecinkowe mają część ułamkową jak 3.5, 42.1 i 5.0 (stosujemy tu zapis anglosaski, z kropką oddzielającą część dziesiętną, w Polsce przecinek jest znakiem oddzielającym część dziesiętną). W Pythonie liczba 5 jest liczbą całkowitą, ale 5.0 jest liczbą zmiennoprzecinkową.

Wyrażenia

Te operacje matematyczne są przykładami wyrażeń. Komputery mogą rozwiązywać miliony takich problemów w ciągu sekundy. Wyrażenia składają się z wartości (liczb) połączonych operatorami (znakami matematycznymi). Nauczmy się dokłądnie czym są wartości i operatory. Spróbuj wpisać niektóre z tych wyrażeń w interaktywnej powłoce i naiskaj ENTER po wprowadzeniu każdej z nich.

2+2+2+2+2
8*6
10-5+6
2  +       2

Po wpisaniu tych instrukcji powłoka interaktywna będzie wyglądałą jak na rysunku 2-2.



Rysunek 2-2: Jak wygląda okno IDLE po wprowadzeniu instrukcji.



Rysunek 2-3: Wyrażenie składa się z wartości i operatorów.

Wyrażenie składa się z wartości (takich jak liczby 8 i 6) połączonych operatorem (takim jak znak * oznaczający mnożeni). Samodzielna wartość także jest wyrażeniem. W przykładzie 2  +       2 zwróć uwagę że można użyć dowolnej liczby spacji pomiędzy wartościami, a operatoramis. Jednak nie wstawiaj spacji na początku instrukcji jaką wprowadzasz w interaktywnej powłoce.

W następnym rozdziale nauczysz się o napisach w wyrażeniach. Python nie jest ograniczony jedynie do liczb; jest czymś więcej niż kalkulatorem!

Obliczanie wyrażeń

Kiedy komputer rozwiązuje wyrażenie 10 + 5 i otrzymuje wartość 15, to mówimy o obliczaniu wyrażeń. Obliczanie wyrażeń reduje je do pojedynczej wartości, tak jak rozwiązanie problemu matematycznego redukuje problem do jednej liczby: odpowiedzi.

Wyrażenia 10 + 5 i 10 + 3 + 2 mają taką samą wartość. Oba redukują się do 15.

Wyrażenia mogą być dowolnego rozmiaru, ale zawsze zostaną zredukowane do pojedynczej wartości. Nawet pojedyncza wartość jest wyrażeniem: wyrażenie 15 jest redukowane do 15. Dla przykładu wyrażenie 8 * 3 / 2 + 2 + 7 - 9 zostanie zredukowane do wartości 12.0 w następujących krokach:

8 * 3 / 2 + 2 + 7 – 9
                  ▼
   24 / 2 + 2 + 7 – 9
                  ▼
     12.0 + 2 + 7 – 9
                  ▼
         14.0 + 7 – 9
                  ▼
             21.0 – 9
                  ▼
                 12.0

Nie zobaczysz wszystkich tych kroków w  interaktywnej powłoce. Powłoka je wykona i pokaże wynik:

>>> 8 * 3 / 2 + 2 + 7 - 9
12.0

Zwróć uwagę, że operator dzielenia / daje wartość zmiennoprzecinkową, więc 24 / 2 daje 12.0. Dale, operacje matematyczne z udziałem liczb zmiennoprzecinkowych także daja liczby zmiennoprzecinkowe, więc 12.0 + 2 daje 14.0.

Błędy składni

Jeśli w interaktywnej powłoce wprowadzisz 5 + , to dostaniesz komunikat o błędzie.

>>> 5 +
SyntaxError: invalid syntax (Błąd składni: nieprawidłowa składnia)

Stało się tak ponieważ 5 + nie jest wyrażeniem. Wyrażenia mają wartości połączone operatorami. Operator + spodziewa się wartości po znaku +. Komunikat o błędzie pojawia się gdy ta wartość się nie pojawi.

Bład składni (SyntaxError) oznacza, że Python nie rozumie instrukcji, ponieważ wpisałeś ją nieprawidłowo. programowanie to nie tylko mówienie komputerowi co ma zrobić, ale także wiedza, jak dokładnie mu to powiedzieć.

Nie martw się jeśli zrobisz pomyłkę. Błędy nie zniszczą twojego komputera. Po prostu wpisz ponownie prawidłową instrukję w powłoce interaktywnej przy kolejnym znaku zachęty >>>.

Zapisywanie wartości w zmiennych

Często będziesz chciał zachować obliczone wyrażenie by użyć go później w programoe. Takie wartości możesz zapisywać w zmiennych. Wyobraź je sobie jako pudełka, które mogą przechowywać wartości.

Instrukcja przypisania zachowa wartość (lub wartość do jakiej zostanie zredukowane wyrażenie) w zmiennej. Wymyśl sobie nazwę dla zmiennej, daj za nią znak = (nazywany operatorem przypisania) i następnie wartość do zapisania w zmiennej. Przykładowo wprowadź spam = 15 w interaktywnej powłoce:

>>> spam = 15
>>>



Rysunek 2-4: Zmienne są jak pudełka które mogą przechowywać w sobie wartości.

The spam variable’s box will have the value 15 stored in it, as shown in Figure 2-4. The name “spam” is the label on the box (so Python can tell variables apart) and the value is written on a small note inside the box.

When you press ENTER you won't see anything in response. In Python, assume the instruction executed successfully if no error message appears. The >>> prompt will appear so you can type in the next instruction.

Unlike expressions, statements are instructions that do not evaluate to any value, which is why there is no value displayed on the next line in the interactive shell. It might be confusing to know which instructions are expressions and which are statements. Just remember that expressions evaluate to a single value. Any other kind of instruction is a statement.

Variables store values, not expressions. For example, consider the expression in the statements spam = 10 + 5 and spam = 10 + 7 - 2. They both evaluate to 15. The end result is the same: Both statements store the value 15 in the variable spam.

The first time a variable is used in an assignment statement, Python will create that variable. To check what value is in a variable, type the variable name into the interactive shell:

>>> spam = 15
>>> spam
15

The expression spam evaluates to the value inside the spam variable: 15. You can use variables in expressions. Try entering the following in the interactive shell:

>>> spam = 15
>>> spam + 5
20

You’ve set the value of the variable spam to 15, so writing spam + 5 is like writing the expression 15 + 5.

You cannot use a variable before an assignment statement creates it. Python will give you an error because no such variable exists yet. Mistyping the variable name also causes this error:

>>> spam = 15
>>> spma

Traceback (most recent call last):
  File "<pyshell#8>", line 1, in <module>
    spma
NameError: name 'spma' is not defined

The error appeared because there is spam variable but not spma.

You can change the value stored in a variable by entering another assignment statement. For example, try the following:

>>> spam = 15
>>> spam + 5
20
>>> spam = 3
>>> spam + 5
8

When you first enter spam + 5, the expression evaluates to 20 because you stored 15 inside spam. However, when you enter spam = 3, the value 15 is replaced, or overwritten, with the value 3. Now when you enter spam + 5, the expression evaluates to 8 because the value of spam is now 3.

You can even use the value in the spam variable to assign a new value to spam:

>>> spam = 15
>>> spam = spam + 5
20

The assignment statement spam = spam + 5 is like saying, “the new value of the spam variable will be the current value of spam plus five.” Keep increasing the value in spam by 5 several times:

>>> spam = 15
>>> spam = spam + 5
>>> spam = spam + 5
>>> spam = spam + 5
>>> spam
30

Using More Than One Variable

Create as many variables as you need in your programs. For example, let’s assign different values to two variables named eggs and fizz, like so:

>>> fizz = 10
>>> eggs = 15

Now the fizz variable has 10 inside it, and eggs has 15 inside it.



Figure 2-5: The “fizz” and “eggs” variables have values stored in them.

Try entering spam = fizz + eggs into the interactive shell, then check the new value of spam:

>>> fizz = 10
>>> eggs = 15
>>> spam = fizz + eggs
>>> spam
25

The value in spam is now 25. When you add fizz and eggs you are adding their values, which are 10 and 15, respectively.

Summary

In this chapter, you learned the basics about writing Python instructions. Python needs you to tell it exactly what to do in a strict way. Computers don’t have common sense and only understand specific instructions.

Expressions are values (such as 2 or 5) combined with operators (such as + or -). Python can evaluate expressions (that is, reduce the expression to a single value). You can store values inside of variables so that your program can remember them and use them later.

There are many other types of operators and values in Python. In the next chapter, you’ll go over some more basic concepts and write your first program!
